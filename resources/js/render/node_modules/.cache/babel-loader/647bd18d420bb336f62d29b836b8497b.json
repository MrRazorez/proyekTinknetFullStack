{"ast":null,"code":"/*!\n * # Semantic UI 2.4.1 - Form Validation\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.form = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        legacyParameters = arguments[1],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var $module = $(this),\n          element = this,\n          formErrors = [],\n          keyHeldDown = false,\n          // set at run-time\n      $field,\n          $group,\n          $message,\n          $prompt,\n          $submit,\n          $clear,\n          $reset,\n          settings,\n          validation,\n          metadata,\n          selector,\n          className,\n          regExp,\n          error,\n          namespace,\n          moduleNamespace,\n          eventNamespace,\n          instance,\n          module;\n      module = {\n        initialize: function () {\n          // settings grabbed at run time\n          module.get.settings();\n\n          if (methodInvoked) {\n            if (instance === undefined) {\n              module.instantiate();\n            }\n\n            module.invoke(query);\n          } else {\n            if (instance !== undefined) {\n              instance.invoke('destroy');\n            }\n\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $field = $module.find(selector.field);\n          $group = $module.find(selector.group);\n          $message = $module.find(selector.message);\n          $prompt = $module.find(selector.prompt);\n          $submit = $module.find(selector.submit);\n          $clear = $module.find(selector.clear);\n          $reset = $module.find(selector.reset);\n        },\n        submit: function () {\n          module.verbose('Submitting form', $module);\n          $module.submit();\n        },\n        attachEvents: function (selector, action) {\n          action = action || 'submit';\n          $(selector).on('click' + eventNamespace, function (event) {\n            module[action]();\n            event.preventDefault();\n          });\n        },\n        bindEvents: function () {\n          module.verbose('Attaching form events');\n          $module.on('submit' + eventNamespace, module.validate.form).on('blur' + eventNamespace, selector.field, module.event.field.blur).on('click' + eventNamespace, selector.submit, module.submit).on('click' + eventNamespace, selector.reset, module.reset).on('click' + eventNamespace, selector.clear, module.clear);\n\n          if (settings.keyboardShortcuts) {\n            $module.on('keydown' + eventNamespace, selector.field, module.event.field.keydown);\n          }\n\n          $field.each(function () {\n            var $input = $(this),\n                type = $input.prop('type'),\n                inputEvent = module.get.changeEvent(type, $input);\n            $(this).on(inputEvent + eventNamespace, module.event.field.change);\n          });\n        },\n        clear: function () {\n          $field.each(function () {\n            var $field = $(this),\n                $element = $field.parent(),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue) || '',\n                isCheckbox = $element.is(selector.uiCheckbox),\n                isDropdown = $element.is(selector.uiDropdown),\n                isErrored = $fieldGroup.hasClass(className.error);\n\n            if (isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n\n            if (isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('clear');\n            } else if (isCheckbox) {\n              $field.prop('checked', false);\n            } else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val('');\n            }\n          });\n        },\n        reset: function () {\n          $field.each(function () {\n            var $field = $(this),\n                $element = $field.parent(),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue),\n                isCheckbox = $element.is(selector.uiCheckbox),\n                isDropdown = $element.is(selector.uiDropdown),\n                isErrored = $fieldGroup.hasClass(className.error);\n\n            if (defaultValue === undefined) {\n              return;\n            }\n\n            if (isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n\n            if (isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('restore defaults');\n            } else if (isCheckbox) {\n              module.verbose('Resetting checkbox value', $element, defaultValue);\n              $field.prop('checked', defaultValue);\n            } else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val(defaultValue);\n            }\n          });\n        },\n        determine: {\n          isValid: function () {\n            var allValid = true;\n            $.each(validation, function (fieldName, field) {\n              if (!module.validate.field(field, fieldName, true)) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          }\n        },\n        is: {\n          bracketedRule: function (rule) {\n            return rule.type && rule.type.match(settings.regExp.bracket);\n          },\n          shorthandFields: function (fields) {\n            var fieldKeys = Object.keys(fields),\n                firstRule = fields[fieldKeys[0]];\n            return module.is.shorthandRules(firstRule);\n          },\n          // duck type rule test\n          shorthandRules: function (rules) {\n            return typeof rules == 'string' || $.isArray(rules);\n          },\n          empty: function ($field) {\n            if (!$field || $field.length === 0) {\n              return true;\n            } else if ($field.is('input[type=\"checkbox\"]')) {\n              return !$field.is(':checked');\n            } else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function ($field) {\n            return $.trim($field.val()) === '';\n          },\n          valid: function (field) {\n            var allValid = true;\n\n            if (field) {\n              module.verbose('Checking if field is valid', field);\n              return module.validate.field(validation[field], field, false);\n            } else {\n              module.verbose('Checking if form is valid');\n              $.each(validation, function (fieldName, field) {\n                if (!module.is.valid(fieldName)) {\n                  allValid = false;\n                }\n              });\n              return allValid;\n            }\n          }\n        },\n        removeEvents: function () {\n          $module.off(eventNamespace);\n          $field.off(eventNamespace);\n          $submit.off(eventNamespace);\n          $field.off(eventNamespace);\n        },\n        event: {\n          field: {\n            keydown: function (event) {\n              var $field = $(this),\n                  key = event.which,\n                  isInput = $field.is(selector.input),\n                  isCheckbox = $field.is(selector.checkbox),\n                  isInDropdown = $field.closest(selector.uiDropdown).length > 0,\n                  keyCode = {\n                enter: 13,\n                escape: 27\n              };\n\n              if (key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field.blur();\n              }\n\n              if (!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if (!keyHeldDown) {\n                  $field.one('keyup' + eventNamespace, module.event.field.keyup);\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n\n                keyHeldDown = true;\n              }\n            },\n            keyup: function () {\n              keyHeldDown = false;\n            },\n            blur: function (event) {\n              var $field = $(this),\n                  $fieldGroup = $field.closest($group),\n                  validationRules = module.get.validation($field);\n\n              if ($fieldGroup.hasClass(className.error)) {\n                module.debug('Revalidating field', $field, validationRules);\n\n                if (validationRules) {\n                  module.validate.field(validationRules);\n                }\n              } else if (settings.on == 'blur') {\n                if (validationRules) {\n                  module.validate.field(validationRules);\n                }\n              }\n            },\n            change: function (event) {\n              var $field = $(this),\n                  $fieldGroup = $field.closest($group),\n                  validationRules = module.get.validation($field);\n\n              if (validationRules && (settings.on == 'change' || $fieldGroup.hasClass(className.error) && settings.revalidate)) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function () {\n                  module.debug('Revalidating field', $field, module.get.validation($field));\n                  module.validate.field(validationRules);\n                }, settings.delay);\n              }\n            }\n          }\n        },\n        get: {\n          ancillaryValue: function (rule) {\n            if (!rule.type || !rule.value && !module.is.bracketedRule(rule)) {\n              return false;\n            }\n\n            return rule.value !== undefined ? rule.value : rule.type.match(settings.regExp.bracket)[1] + '';\n          },\n          ruleName: function (rule) {\n            if (module.is.bracketedRule(rule)) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n\n            return rule.type;\n          },\n          changeEvent: function (type, $input) {\n            if (type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            } else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function () {\n            return document.createElement('input').oninput !== undefined ? 'input' : document.createElement('input').onpropertychange !== undefined ? 'propertychange' : 'keyup';\n          },\n          fieldsFromShorthand: function (fields) {\n            var fullFields = {};\n            $.each(fields, function (name, rules) {\n              if (typeof rules == 'string') {\n                rules = [rules];\n              }\n\n              fullFields[name] = {\n                rules: []\n              };\n              $.each(rules, function (index, rule) {\n                fullFields[name].rules.push({\n                  type: rule\n                });\n              });\n            });\n            return fullFields;\n          },\n          prompt: function (rule, field) {\n            var ruleName = module.get.ruleName(rule),\n                ancillary = module.get.ancillaryValue(rule),\n                $field = module.get.field(field.identifier),\n                value = $field.val(),\n                prompt = $.isFunction(rule.prompt) ? rule.prompt(value) : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n                requiresValue = prompt.search('{value}') !== -1,\n                requiresName = prompt.search('{name}') !== -1,\n                $label,\n                name;\n\n            if (requiresValue) {\n              prompt = prompt.replace('{value}', $field.val());\n            }\n\n            if (requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = $label.length == 1 ? $label.text() : $field.prop('placeholder') || settings.text.unspecifiedField;\n              prompt = prompt.replace('{name}', name);\n            }\n\n            prompt = prompt.replace('{identifier}', field.identifier);\n            prompt = prompt.replace('{ruleValue}', ancillary);\n\n            if (!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n\n            return prompt;\n          },\n          settings: function () {\n            if ($.isPlainObject(parameters)) {\n              var keys = Object.keys(parameters),\n                  isLegacySettings = keys.length > 0 ? parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined : false,\n                  ruleKeys;\n\n              if (isLegacySettings) {\n                // 1.x (ducktyped)\n                settings = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              } else {\n                // 2.x\n                if (parameters.fields && module.is.shorthandFields(parameters.fields)) {\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\n                }\n\n                settings = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            } else {\n              settings = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            } // shorthand\n\n\n            namespace = settings.namespace;\n            metadata = settings.metadata;\n            selector = settings.selector;\n            className = settings.className;\n            regExp = settings.regExp;\n            error = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace = '.' + namespace; // grab instance\n\n            instance = $module.data(moduleNamespace); // refresh selector cache\n\n            module.refresh();\n          },\n          field: function (identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n\n            if ($field.filter('#' + identifier).length > 0) {\n              return $field.filter('#' + identifier);\n            } else if ($field.filter('[name=\"' + identifier + '\"]').length > 0) {\n              return $field.filter('[name=\"' + identifier + '\"]');\n            } else if ($field.filter('[name=\"' + identifier + '[]\"]').length > 0) {\n              return $field.filter('[name=\"' + identifier + '[]\"]');\n            } else if ($field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]').length > 0) {\n              return $field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]');\n            }\n\n            return $('<input/>');\n          },\n          fields: function (fields) {\n            var $fields = $();\n            $.each(fields, function (index, name) {\n              $fields = $fields.add(module.get.field(name));\n            });\n            return $fields;\n          },\n          validation: function ($field) {\n            var fieldValidation, identifier;\n\n            if (!validation) {\n              return false;\n            }\n\n            $.each(validation, function (fieldName, field) {\n              identifier = field.identifier || fieldName;\n\n              if (module.get.field(identifier)[0] == $field[0]) {\n                field.identifier = identifier;\n                fieldValidation = field;\n              }\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var fields = [],\n                results;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var $fields = $.isArray(fields) ? module.get.fields(fields) : $field,\n                values = {};\n            $fields.each(function (index, field) {\n              var $field = $(field),\n                  type = $field.prop('type'),\n                  name = $field.prop('name'),\n                  value = $field.val(),\n                  isCheckbox = $field.is(selector.checkbox),\n                  isRadio = $field.is(selector.radio),\n                  isMultiple = name.indexOf('[]') !== -1,\n                  isChecked = isCheckbox ? $field.is(':checked') : false;\n\n              if (name) {\n                if (isMultiple) {\n                  name = name.replace('[]', '');\n\n                  if (!values[name]) {\n                    values[name] = [];\n                  }\n\n                  if (isCheckbox) {\n                    if (isChecked) {\n                      values[name].push(value || true);\n                    } else {\n                      values[name].push(false);\n                    }\n                  } else {\n                    values[name].push(value);\n                  }\n                } else {\n                  if (isRadio) {\n                    if (values[name] === undefined || values[name] == false) {\n                      values[name] = isChecked ? value || true : false;\n                    }\n                  } else if (isCheckbox) {\n                    if (isChecked) {\n                      values[name] = value || true;\n                    } else {\n                      values[name] = false;\n                    }\n                  } else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          }\n        },\n        has: {\n          field: function (identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n\n            if (typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n\n            if ($field.filter('#' + identifier).length > 0) {\n              return true;\n            } else if ($field.filter('[name=\"' + identifier + '\"]').length > 0) {\n              return true;\n            } else if ($field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]').length > 0) {\n              return true;\n            }\n\n            return false;\n          }\n        },\n        escape: {\n          string: function (text) {\n            text = String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n        add: {\n          // alias\n          rule: function (name, rules) {\n            module.add.field(name, rules);\n          },\n          field: function (name, rules) {\n            var newValidation = {};\n\n            if (module.is.shorthandRules(rules)) {\n              rules = $.isArray(rules) ? rules : [rules];\n              newValidation[name] = {\n                rules: []\n              };\n              $.each(rules, function (index, rule) {\n                newValidation[name].rules.push({\n                  type: rule\n                });\n              });\n            } else {\n              newValidation[name] = rules;\n            }\n\n            validation = $.extend({}, validation, newValidation);\n            module.debug('Adding rules', newValidation, validation);\n          },\n          fields: function (fields) {\n            var newValidation;\n\n            if (fields && module.is.shorthandFields(fields)) {\n              newValidation = module.get.fieldsFromShorthand(fields);\n            } else {\n              newValidation = fields;\n            }\n\n            validation = $.extend({}, validation, newValidation);\n          },\n          prompt: function (identifier, errors) {\n            var $field = module.get.field(identifier),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.children(selector.prompt),\n                promptExists = $prompt.length !== 0;\n            errors = typeof errors == 'string' ? [errors] : errors;\n            module.verbose('Adding field error state', identifier);\n            $fieldGroup.addClass(className.error);\n\n            if (settings.inline) {\n              if (!promptExists) {\n                $prompt = settings.templates.prompt(errors);\n                $prompt.appendTo($fieldGroup);\n              }\n\n              $prompt.html(errors[0]);\n\n              if (!promptExists) {\n                if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                } else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt.fadeIn(settings.duration);\n                }\n              } else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function (errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message.html(settings.templates.error(errors));\n          }\n        },\n        remove: {\n          rule: function (field, rule) {\n            var rules = $.isArray(rule) ? rule : [rule];\n\n            if (rule == undefined) {\n              module.debug('Removed all rules');\n              validation[field].rules = [];\n              return;\n            }\n\n            if (validation[field] == undefined || !$.isArray(validation[field].rules)) {\n              return;\n            }\n\n            $.each(validation[field].rules, function (index, rule) {\n              if (rules.indexOf(rule.type) !== -1) {\n                module.debug('Removed rule', rule.type);\n                validation[field].rules.splice(index, 1);\n              }\n            });\n          },\n          field: function (field) {\n            var fields = $.isArray(field) ? field : [field];\n            $.each(fields, function (index, field) {\n              module.remove.rule(field);\n            });\n          },\n          // alias\n          rules: function (field, rules) {\n            if ($.isArray(field)) {\n              $.each(fields, function (index, field) {\n                module.remove.rule(field, rules);\n              });\n            } else {\n              module.remove.rule(field, rules);\n            }\n          },\n          fields: function (fields) {\n            module.remove.field(fields);\n          },\n          prompt: function (identifier) {\n            var $field = module.get.field(identifier),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.children(selector.prompt);\n            $fieldGroup.removeClass(className.error);\n\n            if (settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n\n              if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function () {\n                  $prompt.remove();\n                });\n              } else {\n                $prompt.fadeOut(settings.duration, function () {\n                  $prompt.remove();\n                });\n              }\n            }\n          }\n        },\n        set: {\n          success: function () {\n            $module.removeClass(className.error).addClass(className.success);\n          },\n          defaults: function () {\n            $field.each(function () {\n              var $field = $(this),\n                  isCheckbox = $field.filter(selector.checkbox).length > 0,\n                  value = isCheckbox ? $field.is(':checked') : $field.val();\n              $field.data(metadata.defaultValue, value);\n            });\n          },\n          error: function () {\n            $module.removeClass(className.success).addClass(className.error);\n          },\n          value: function (field, value) {\n            var fields = {};\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if ($.isEmptyObject(fields)) {\n              return;\n            }\n\n            $.each(fields, function (key, value) {\n              var $field = module.get.field(key),\n                  $element = $field.parent(),\n                  isMultiple = $.isArray(value),\n                  isCheckbox = $element.is(selector.uiCheckbox),\n                  isDropdown = $element.is(selector.uiDropdown),\n                  isRadio = $field.is(selector.radio) && isCheckbox,\n                  fieldExists = $field.length > 0,\n                  $multipleField;\n\n              if (fieldExists) {\n                if (isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function (index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element = $multipleField.parent();\n\n                    if ($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                } else if (isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]').parent(selector.uiCheckbox).checkbox('check');\n                } else if (isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n\n                  if (value === true) {\n                    $element.checkbox('check');\n                  } else {\n                    $element.checkbox('uncheck');\n                  }\n                } else if (isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                } else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          }\n        },\n        validate: {\n          form: function (event, ignoreCallbacks) {\n            var values = module.get.values(),\n                apiRequest; // input keydown event will fire submit repeatedly by browser default\n\n            if (keyHeldDown) {\n              return false;\n            } // reset errors\n\n\n            formErrors = [];\n\n            if (module.determine.isValid()) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n\n              if (ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            } else {\n              module.debug('Form has errors');\n              module.set.error();\n\n              if (!settings.inline) {\n                module.add.errors(formErrors);\n              } // prevent ajax submit\n\n\n              if ($module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n\n              if (ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n          // takes a validation object and returns whether field passes validation\n          field: function (field, fieldName, showErrors) {\n            showErrors = showErrors !== undefined ? showErrors : true;\n\n            if (typeof field == 'string') {\n              module.verbose('Validating field', field);\n              fieldName = field;\n              field = validation[field];\n            }\n\n            var identifier = field.identifier || fieldName,\n                $field = module.get.field(identifier),\n                $dependsField = field.depends ? module.get.field(field.depends) : false,\n                fieldValid = true,\n                fieldErrors = [];\n\n            if (!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n\n            if ($field.prop('disabled')) {\n              module.debug('Field is disabled. Skipping', identifier);\n              fieldValid = true;\n            } else if (field.optional && module.is.blank($field)) {\n              module.debug('Field is optional and blank. Skipping', identifier);\n              fieldValid = true;\n            } else if (field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n              fieldValid = true;\n            } else if (field.rules !== undefined) {\n              $.each(field.rules, function (index, rule) {\n                if (module.has.field(identifier) && !module.validate.rule(field, rule)) {\n                  module.debug('Field is invalid', identifier, rule.type);\n                  fieldErrors.push(module.get.prompt(rule, field));\n                  fieldValid = false;\n                }\n              });\n            }\n\n            if (fieldValid) {\n              if (showErrors) {\n                module.remove.prompt(identifier, fieldErrors);\n                settings.onValid.call($field);\n              }\n            } else {\n              if (showErrors) {\n                formErrors = formErrors.concat(fieldErrors);\n                module.add.prompt(identifier, fieldErrors);\n                settings.onInvalid.call($field, fieldErrors);\n              }\n\n              return false;\n            }\n\n            return true;\n          },\n          // takes validation rule and returns whether field passes rule\n          rule: function (field, rule) {\n            var $field = module.get.field(field.identifier),\n                type = rule.type,\n                value = $field.val(),\n                isValid = true,\n                ancillary = module.get.ancillaryValue(rule),\n                ruleName = module.get.ruleName(rule),\n                ruleFunction = settings.rules[ruleName];\n\n            if (!$.isFunction(ruleFunction)) {\n              module.error(error.noRule, ruleName);\n              return;\n            } // cast to string avoiding encoding special values\n\n\n            value = value === undefined || value === '' || value === null ? '' : $.trim(value + '');\n            return ruleFunction.call($field, value, ancillary);\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n      module.initialize();\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.form.settings = {\n    name: 'Form',\n    namespace: 'form',\n    debug: false,\n    verbose: false,\n    performance: true,\n    fields: false,\n    keyboardShortcuts: true,\n    on: 'submit',\n    inline: false,\n    delay: 200,\n    revalidate: true,\n    transition: 'scale',\n    duration: 200,\n    onValid: function () {},\n    onInvalid: function () {},\n    onSuccess: function () {\n      return true;\n    },\n    onFailure: function () {\n      return false;\n    },\n    metadata: {\n      defaultValue: 'default',\n      validate: 'validate'\n    },\n    regExp: {\n      htmlID: /^[a-zA-Z][\\w:.-]*$/g,\n      bracket: /\\[(.*)\\]/i,\n      decimal: /^\\d+\\.?\\d*$/,\n      email: /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n      escape: /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n      flags: /^\\/(.*)\\/(.*)?/,\n      integer: /^\\-?\\d+$/,\n      number: /^\\-?\\d*(\\.\\d+)?$/,\n      url: /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n    },\n    text: {\n      unspecifiedRule: 'Please enter a valid value',\n      unspecifiedField: 'This field'\n    },\n    prompt: {\n      empty: '{name} must have a value',\n      checked: '{name} must be checked',\n      email: '{name} must be a valid e-mail',\n      url: '{name} must be a valid url',\n      regExp: '{name} is not formatted correctly',\n      integer: '{name} must be an integer',\n      decimal: '{name} must be a decimal number',\n      number: '{name} must be set to a number',\n      is: '{name} must be \"{ruleValue}\"',\n      isExactly: '{name} must be exactly \"{ruleValue}\"',\n      not: '{name} cannot be set to \"{ruleValue}\"',\n      notExactly: '{name} cannot be set to exactly \"{ruleValue}\"',\n      contain: '{name} must contain \"{ruleValue}\"',\n      containExactly: '{name} must contain exactly \"{ruleValue}\"',\n      doesntContain: '{name} cannot contain  \"{ruleValue}\"',\n      doesntContainExactly: '{name} cannot contain exactly \"{ruleValue}\"',\n      minLength: '{name} must be at least {ruleValue} characters',\n      length: '{name} must be at least {ruleValue} characters',\n      exactLength: '{name} must be exactly {ruleValue} characters',\n      maxLength: '{name} cannot be longer than {ruleValue} characters',\n      match: '{name} must match {ruleValue} field',\n      different: '{name} must have a different value than {ruleValue} field',\n      creditCard: '{name} must be a valid credit card number',\n      minCount: '{name} must have at least {ruleValue} choices',\n      exactCount: '{name} must have exactly {ruleValue} choices',\n      maxCount: '{name} must have {ruleValue} or less choices'\n    },\n    selector: {\n      checkbox: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n      clear: '.clear',\n      field: 'input, textarea, select',\n      group: '.field',\n      input: 'input',\n      message: '.error.message',\n      prompt: '.prompt.label',\n      radio: 'input[type=\"radio\"]',\n      reset: '.reset:not([type=\"reset\"])',\n      submit: '.submit:not([type=\"submit\"])',\n      uiCheckbox: '.ui.checkbox',\n      uiDropdown: '.ui.dropdown'\n    },\n    className: {\n      error: 'error',\n      label: 'ui prompt label',\n      pressed: 'down',\n      success: 'success'\n    },\n    error: {\n      identifier: 'You must specify a string identifier for each field',\n      method: 'The method you called is not defined.',\n      noRule: 'There is no rule matching the one you specified',\n      oldSyntax: 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.'\n    },\n    templates: {\n      // template that produces error message\n      error: function (errors) {\n        var html = '<ul class=\"list\">';\n        $.each(errors, function (index, value) {\n          html += '<li>' + value + '</li>';\n        });\n        html += '</ul>';\n        return $(html);\n      },\n      // template that produces label\n      prompt: function (errors) {\n        return $('<div/>').addClass('ui basic red pointing prompt label').html(errors[0]);\n      }\n    },\n    rules: {\n      // is not empty or blank string\n      empty: function (value) {\n        return !(value === undefined || '' === value || $.isArray(value) && value.length === 0);\n      },\n      // checkbox checked\n      checked: function () {\n        return $(this).filter(':checked').length > 0;\n      },\n      // is most likely an email\n      email: function (value) {\n        return $.fn.form.settings.regExp.email.test(value);\n      },\n      // value is most likely url\n      url: function (value) {\n        return $.fn.form.settings.regExp.url.test(value);\n      },\n      // matches specified regExp\n      regExp: function (value, regExp) {\n        if (regExp instanceof RegExp) {\n          return value.match(regExp);\n        }\n\n        var regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n            flags; // regular expression specified as /baz/gi (flags)\n\n        if (regExpParts) {\n          regExp = regExpParts.length >= 2 ? regExpParts[1] : regExp;\n          flags = regExpParts.length >= 3 ? regExpParts[2] : '';\n        }\n\n        return value.match(new RegExp(regExp, flags));\n      },\n      // is valid integer or matches range\n      integer: function (value, range) {\n        var intRegExp = $.fn.form.settings.regExp.integer,\n            min,\n            max,\n            parts;\n\n        if (!range || ['', '..'].indexOf(range) !== -1) {// do nothing\n        } else if (range.indexOf('..') == -1) {\n          if (intRegExp.test(range)) {\n            min = max = range - 0;\n          }\n        } else {\n          parts = range.split('..', 2);\n\n          if (intRegExp.test(parts[0])) {\n            min = parts[0] - 0;\n          }\n\n          if (intRegExp.test(parts[1])) {\n            max = parts[1] - 0;\n          }\n        }\n\n        return intRegExp.test(value) && (min === undefined || value >= min) && (max === undefined || value <= max);\n      },\n      // is valid number (with decimal)\n      decimal: function (value) {\n        return $.fn.form.settings.regExp.decimal.test(value);\n      },\n      // is valid number\n      number: function (value) {\n        return $.fn.form.settings.regExp.number.test(value);\n      },\n      // is value (case insensitive)\n      is: function (value, text) {\n        text = typeof text == 'string' ? text.toLowerCase() : text;\n        value = typeof value == 'string' ? value.toLowerCase() : value;\n        return value == text;\n      },\n      // is value\n      isExactly: function (value, text) {\n        return value == text;\n      },\n      // value is not another value (case insensitive)\n      not: function (value, notValue) {\n        value = typeof value == 'string' ? value.toLowerCase() : value;\n        notValue = typeof notValue == 'string' ? notValue.toLowerCase() : notValue;\n        return value != notValue;\n      },\n      // value is not another value (case sensitive)\n      notExactly: function (value, notValue) {\n        return value != notValue;\n      },\n      // value contains text (insensitive)\n      contains: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text, 'i')) !== -1;\n      },\n      // value contains text (case sensitive)\n      containsExactly: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text)) !== -1;\n      },\n      // value contains text (insensitive)\n      doesntContain: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text, 'i')) === -1;\n      },\n      // value contains text (case sensitive)\n      doesntContainExactly: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text)) === -1;\n      },\n      // is at least string length\n      minLength: function (value, requiredLength) {\n        return value !== undefined ? value.length >= requiredLength : false;\n      },\n      // see rls notes for 2.0.6 (this is a duplicate of minLength)\n      length: function (value, requiredLength) {\n        return value !== undefined ? value.length >= requiredLength : false;\n      },\n      // is exactly length\n      exactLength: function (value, requiredLength) {\n        return value !== undefined ? value.length == requiredLength : false;\n      },\n      // is less than length\n      maxLength: function (value, maxLength) {\n        return value !== undefined ? value.length <= maxLength : false;\n      },\n      // matches another field\n      match: function (value, identifier) {\n        var $form = $(this),\n            matchingValue;\n\n        if ($('[data-validate=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[data-validate=\"' + identifier + '\"]').val();\n        } else if ($('#' + identifier).length > 0) {\n          matchingValue = $('#' + identifier).val();\n        } else if ($('[name=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '\"]').val();\n        } else if ($('[name=\"' + identifier + '[]\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '[]\"]');\n        }\n\n        return matchingValue !== undefined ? value.toString() == matchingValue.toString() : false;\n      },\n      // different than another field\n      different: function (value, identifier) {\n        // use either id or name of field\n        var $form = $(this),\n            matchingValue;\n\n        if ($('[data-validate=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[data-validate=\"' + identifier + '\"]').val();\n        } else if ($('#' + identifier).length > 0) {\n          matchingValue = $('#' + identifier).val();\n        } else if ($('[name=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '\"]').val();\n        } else if ($('[name=\"' + identifier + '[]\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '[]\"]');\n        }\n\n        return matchingValue !== undefined ? value.toString() !== matchingValue.toString() : false;\n      },\n      creditCard: function (cardNumber, cardTypes) {\n        var cards = {\n          visa: {\n            pattern: /^4/,\n            length: [16]\n          },\n          amex: {\n            pattern: /^3[47]/,\n            length: [15]\n          },\n          mastercard: {\n            pattern: /^5[1-5]/,\n            length: [16]\n          },\n          discover: {\n            pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length: [16]\n          },\n          unionPay: {\n            pattern: /^(62|88)/,\n            length: [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern: /^35(2[89]|[3-8][0-9])/,\n            length: [16]\n          },\n          maestro: {\n            pattern: /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length: [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern: /^(30[0-5]|^36)/,\n            length: [14]\n          },\n          laser: {\n            pattern: /^(6304|670[69]|6771)/,\n            length: [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern: /^(4026|417500|4508|4844|491(3|7))/,\n            length: [16]\n          }\n        },\n            valid = {},\n            validCard = false,\n            requiredTypes = typeof cardTypes == 'string' ? cardTypes.split(',') : false,\n            unionPay,\n            validation;\n\n        if (typeof cardNumber !== 'string' || cardNumber.length === 0) {\n          return;\n        } // allow dashes in card\n\n\n        cardNumber = cardNumber.replace(/[\\-]/g, ''); // verify card types\n\n        if (requiredTypes) {\n          $.each(requiredTypes, function (index, type) {\n            // verify each card type\n            validation = cards[type];\n\n            if (validation) {\n              valid = {\n                length: $.inArray(cardNumber.length, validation.length) !== -1,\n                pattern: cardNumber.search(validation.pattern) !== -1\n              };\n\n              if (valid.length && valid.pattern) {\n                validCard = true;\n              }\n            }\n          });\n\n          if (!validCard) {\n            return false;\n          }\n        } // skip luhn for UnionPay\n\n\n        unionPay = {\n          number: $.inArray(cardNumber.length, cards.unionPay.length) !== -1,\n          pattern: cardNumber.search(cards.unionPay.pattern) !== -1\n        };\n\n        if (unionPay.number && unionPay.pattern) {\n          return true;\n        } // verify luhn, adapted from  <https://gist.github.com/2134376>\n\n\n        var length = cardNumber.length,\n            multiple = 0,\n            producedValue = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]],\n            sum = 0;\n\n        while (length--) {\n          sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n          multiple ^= 1;\n        }\n\n        return sum % 10 === 0 && sum > 0;\n      },\n      minCount: function (value, minCount) {\n        if (minCount == 0) {\n          return true;\n        }\n\n        if (minCount == 1) {\n          return value !== '';\n        }\n\n        return value.split(',').length >= minCount;\n      },\n      exactCount: function (value, exactCount) {\n        if (exactCount == 0) {\n          return value === '';\n        }\n\n        if (exactCount == 1) {\n          return value !== '' && value.search(',') === -1;\n        }\n\n        return value.split(',').length == exactCount;\n      },\n      maxCount: function (value, maxCount) {\n        if (maxCount == 0) {\n          return false;\n        }\n\n        if (maxCount == 1) {\n          return value.search(',') === -1;\n        }\n\n        return value.split(',').length <= maxCount;\n      }\n    }\n  };\n})(jQuery, window, document);","map":{"version":3,"names":["$","window","document","undefined","Math","self","Function","fn","form","parameters","$allModules","moduleSelector","selector","time","Date","getTime","performance","query","arguments","legacyParameters","methodInvoked","queryArguments","slice","call","returnedValue","each","$module","element","formErrors","keyHeldDown","$field","$group","$message","$prompt","$submit","$clear","$reset","settings","validation","metadata","className","regExp","error","namespace","moduleNamespace","eventNamespace","instance","module","initialize","get","instantiate","invoke","verbose","bindEvents","set","defaults","data","destroy","removeEvents","removeData","refresh","find","field","group","message","prompt","submit","clear","reset","attachEvents","action","on","event","preventDefault","validate","blur","keyboardShortcuts","keydown","$input","type","prop","inputEvent","changeEvent","change","$element","parent","$fieldGroup","closest","defaultValue","isCheckbox","is","uiCheckbox","isDropdown","uiDropdown","isErrored","hasClass","removeClass","remove","dropdown","val","determine","isValid","allValid","fieldName","bracketedRule","rule","match","bracket","shorthandFields","fields","fieldKeys","Object","keys","firstRule","shorthandRules","rules","isArray","empty","length","blank","trim","valid","off","key","which","isInput","input","checkbox","isInDropdown","keyCode","enter","escape","ctrlKey","one","keyup","debug","validationRules","revalidate","clearTimeout","timer","setTimeout","delay","ancillaryValue","value","ruleName","replace","createElement","oninput","onpropertychange","fieldsFromShorthand","fullFields","name","index","push","ancillary","identifier","isFunction","text","unspecifiedRule","requiresValue","search","requiresName","$label","eq","unspecifiedField","isPlainObject","isLegacySettings","ruleKeys","extend","oldSyntax","string","filter","$fields","add","fieldValidation","results","values","isRadio","radio","isMultiple","indexOf","isChecked","has","String","newValidation","errors","children","promptExists","addClass","inline","templates","appendTo","html","transition","duration","fadeIn","splice","fadeOut","success","isEmptyObject","fieldExists","$multipleField","ignoreCallbacks","apiRequest","onSuccess","stopImmediatePropagation","onFailure","showErrors","$dependsField","depends","fieldValid","fieldErrors","optional","onValid","concat","onInvalid","ruleFunction","noRule","setting","internal","silent","log","prototype","bind","console","info","apply","currentTime","executionTime","previousTime","display","title","totalTime","table","groupCollapsed","groupEnd","passedArguments","context","object","maxDepth","found","response","split","depth","camelCaseValue","charAt","toUpperCase","htmlID","decimal","email","flags","integer","number","url","checked","isExactly","not","notExactly","contain","containExactly","doesntContain","doesntContainExactly","minLength","exactLength","maxLength","different","creditCard","minCount","exactCount","maxCount","label","pressed","method","test","RegExp","regExpParts","range","intRegExp","min","max","parts","toLowerCase","notValue","contains","containsExactly","requiredLength","$form","matchingValue","toString","cardNumber","cardTypes","cards","visa","pattern","amex","mastercard","discover","unionPay","jcb","maestro","dinersClub","laser","visaElectron","validCard","requiredTypes","inArray","multiple","producedValue","sum","parseInt","jQuery"],"sources":["/home/casper/Documents/proyekTinknet/frontend/src/components/semantic-ui/components/form.js"],"sourcesContent":["/*!\n * # Semantic UI 2.4.1 - Form Validation\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.form = function(parameters) {\n  var\n    $allModules      = $(this),\n    moduleSelector   = $allModules.selector || '',\n\n    time             = new Date().getTime(),\n    performance      = [],\n\n    query            = arguments[0],\n    legacyParameters = arguments[1],\n    methodInvoked    = (typeof query == 'string'),\n    queryArguments   = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        $module     = $(this),\n        element     = this,\n\n        formErrors  = [],\n        keyHeldDown = false,\n\n        // set at run-time\n        $field,\n        $group,\n        $message,\n        $prompt,\n        $submit,\n        $clear,\n        $reset,\n\n        settings,\n        validation,\n\n        metadata,\n        selector,\n        className,\n        regExp,\n        error,\n\n        namespace,\n        moduleNamespace,\n        eventNamespace,\n\n        instance,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          // settings grabbed at run time\n          module.get.settings();\n          if(methodInvoked) {\n            if(instance === undefined) {\n              module.instantiate();\n            }\n            module.invoke(query);\n          }\n          else {\n            if(instance !== undefined) {\n              instance.invoke('destroy');\n            }\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $field      = $module.find(selector.field);\n          $group      = $module.find(selector.group);\n          $message    = $module.find(selector.message);\n          $prompt     = $module.find(selector.prompt);\n\n          $submit     = $module.find(selector.submit);\n          $clear      = $module.find(selector.clear);\n          $reset      = $module.find(selector.reset);\n        },\n\n        submit: function() {\n          module.verbose('Submitting form', $module);\n          $module\n            .submit()\n          ;\n        },\n\n        attachEvents: function(selector, action) {\n          action = action || 'submit';\n          $(selector)\n            .on('click' + eventNamespace, function(event) {\n              module[action]();\n              event.preventDefault();\n            })\n          ;\n        },\n\n        bindEvents: function() {\n          module.verbose('Attaching form events');\n          $module\n            .on('submit' + eventNamespace, module.validate.form)\n            .on('blur'   + eventNamespace, selector.field, module.event.field.blur)\n            .on('click'  + eventNamespace, selector.submit, module.submit)\n            .on('click'  + eventNamespace, selector.reset, module.reset)\n            .on('click'  + eventNamespace, selector.clear, module.clear)\n          ;\n          if(settings.keyboardShortcuts) {\n            $module\n              .on('keydown' + eventNamespace, selector.field, module.event.field.keydown)\n            ;\n          }\n          $field\n            .each(function() {\n              var\n                $input     = $(this),\n                type       = $input.prop('type'),\n                inputEvent = module.get.changeEvent(type, $input)\n              ;\n              $(this)\n                .on(inputEvent + eventNamespace, module.event.field.change)\n              ;\n            })\n          ;\n        },\n\n        clear: function() {\n          $field\n            .each(function () {\n              var\n                $field       = $(this),\n                $element     = $field.parent(),\n                $fieldGroup  = $field.closest($group),\n                $prompt      = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue) || '',\n                isCheckbox   = $element.is(selector.uiCheckbox),\n                isDropdown   = $element.is(selector.uiDropdown),\n                isErrored    = $fieldGroup.hasClass(className.error)\n              ;\n              if(isErrored) {\n                module.verbose('Resetting error on field', $fieldGroup);\n                $fieldGroup.removeClass(className.error);\n                $prompt.remove();\n              }\n              if(isDropdown) {\n                module.verbose('Resetting dropdown value', $element, defaultValue);\n                $element.dropdown('clear');\n              }\n              else if(isCheckbox) {\n                $field.prop('checked', false);\n              }\n              else {\n                module.verbose('Resetting field value', $field, defaultValue);\n                $field.val('');\n              }\n            })\n          ;\n        },\n\n        reset: function() {\n          $field\n            .each(function () {\n              var\n                $field       = $(this),\n                $element     = $field.parent(),\n                $fieldGroup  = $field.closest($group),\n                $prompt      = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue),\n                isCheckbox   = $element.is(selector.uiCheckbox),\n                isDropdown   = $element.is(selector.uiDropdown),\n                isErrored    = $fieldGroup.hasClass(className.error)\n              ;\n              if(defaultValue === undefined) {\n                return;\n              }\n              if(isErrored) {\n                module.verbose('Resetting error on field', $fieldGroup);\n                $fieldGroup.removeClass(className.error);\n                $prompt.remove();\n              }\n              if(isDropdown) {\n                module.verbose('Resetting dropdown value', $element, defaultValue);\n                $element.dropdown('restore defaults');\n              }\n              else if(isCheckbox) {\n                module.verbose('Resetting checkbox value', $element, defaultValue);\n                $field.prop('checked', defaultValue);\n              }\n              else {\n                module.verbose('Resetting field value', $field, defaultValue);\n                $field.val(defaultValue);\n              }\n            })\n          ;\n        },\n\n        determine: {\n          isValid: function() {\n            var\n              allValid = true\n            ;\n            $.each(validation, function(fieldName, field) {\n              if( !( module.validate.field(field, fieldName, true) ) ) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          }\n        },\n\n        is: {\n          bracketedRule: function(rule) {\n            return (rule.type && rule.type.match(settings.regExp.bracket));\n          },\n          shorthandFields: function(fields) {\n            var\n              fieldKeys = Object.keys(fields),\n              firstRule = fields[fieldKeys[0]]\n            ;\n            return module.is.shorthandRules(firstRule);\n          },\n          // duck type rule test\n          shorthandRules: function(rules) {\n            return (typeof rules == 'string' || $.isArray(rules));\n          },\n          empty: function($field) {\n            if(!$field || $field.length === 0) {\n              return true;\n            }\n            else if($field.is('input[type=\"checkbox\"]')) {\n              return !$field.is(':checked');\n            }\n            else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function($field) {\n            return $.trim($field.val()) === '';\n          },\n          valid: function(field) {\n            var\n              allValid = true\n            ;\n            if(field) {\n              module.verbose('Checking if field is valid', field);\n              return module.validate.field(validation[field], field, false);\n            }\n            else {\n              module.verbose('Checking if form is valid');\n              $.each(validation, function(fieldName, field) {\n                if( !module.is.valid(fieldName) ) {\n                  allValid = false;\n                }\n              });\n              return allValid;\n            }\n          }\n        },\n\n        removeEvents: function() {\n          $module\n            .off(eventNamespace)\n          ;\n          $field\n            .off(eventNamespace)\n          ;\n          $submit\n            .off(eventNamespace)\n          ;\n          $field\n            .off(eventNamespace)\n          ;\n        },\n\n        event: {\n          field: {\n            keydown: function(event) {\n              var\n                $field       = $(this),\n                key          = event.which,\n                isInput      = $field.is(selector.input),\n                isCheckbox   = $field.is(selector.checkbox),\n                isInDropdown = ($field.closest(selector.uiDropdown).length > 0),\n                keyCode      = {\n                  enter  : 13,\n                  escape : 27\n                }\n              ;\n              if( key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field\n                  .blur()\n                ;\n              }\n              if(!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if(!keyHeldDown) {\n                  $field\n                    .one('keyup' + eventNamespace, module.event.field.keyup)\n                  ;\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n                keyHeldDown = true;\n              }\n            },\n            keyup: function() {\n              keyHeldDown = false;\n            },\n            blur: function(event) {\n              var\n                $field          = $(this),\n                $fieldGroup     = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if( $fieldGroup.hasClass(className.error) ) {\n                module.debug('Revalidating field', $field, validationRules);\n                if(validationRules) {\n                  module.validate.field( validationRules );\n                }\n              }\n              else if(settings.on == 'blur') {\n                if(validationRules) {\n                  module.validate.field( validationRules );\n                }\n              }\n            },\n            change: function(event) {\n              var\n                $field      = $(this),\n                $fieldGroup = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if(validationRules && (settings.on == 'change' || ( $fieldGroup.hasClass(className.error) && settings.revalidate) )) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function() {\n                  module.debug('Revalidating field', $field,  module.get.validation($field));\n                  module.validate.field( validationRules );\n                }, settings.delay);\n              }\n            }\n          }\n\n        },\n\n        get: {\n          ancillaryValue: function(rule) {\n            if(!rule.type || (!rule.value && !module.is.bracketedRule(rule))) {\n              return false;\n            }\n            return (rule.value !== undefined)\n              ? rule.value\n              : rule.type.match(settings.regExp.bracket)[1] + ''\n            ;\n          },\n          ruleName: function(rule) {\n            if( module.is.bracketedRule(rule) ) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n            return rule.type;\n          },\n          changeEvent: function(type, $input) {\n            if(type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            }\n            else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function() {\n            return (document.createElement('input').oninput !== undefined)\n              ? 'input'\n              : (document.createElement('input').onpropertychange !== undefined)\n                ? 'propertychange'\n                : 'keyup'\n            ;\n          },\n          fieldsFromShorthand: function(fields) {\n            var\n              fullFields = {}\n            ;\n            $.each(fields, function(name, rules) {\n              if(typeof rules == 'string') {\n                rules = [rules];\n              }\n              fullFields[name] = {\n                rules: []\n              };\n              $.each(rules, function(index, rule) {\n                fullFields[name].rules.push({ type: rule });\n              });\n            });\n            return fullFields;\n          },\n          prompt: function(rule, field) {\n            var\n              ruleName      = module.get.ruleName(rule),\n              ancillary     = module.get.ancillaryValue(rule),\n              $field        = module.get.field(field.identifier),\n              value         = $field.val(),\n              prompt        = $.isFunction(rule.prompt)\n                ? rule.prompt(value)\n                : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n              requiresValue = (prompt.search('{value}') !== -1),\n              requiresName  = (prompt.search('{name}') !== -1),\n              $label,\n              name\n            ;\n            if(requiresValue) {\n              prompt = prompt.replace('{value}', $field.val());\n            }\n            if(requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = ($label.length == 1)\n                ? $label.text()\n                : $field.prop('placeholder') || settings.text.unspecifiedField\n              ;\n              prompt = prompt.replace('{name}', name);\n            }\n            prompt = prompt.replace('{identifier}', field.identifier);\n            prompt = prompt.replace('{ruleValue}', ancillary);\n            if(!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n            return prompt;\n          },\n          settings: function() {\n            if($.isPlainObject(parameters)) {\n              var\n                keys     = Object.keys(parameters),\n                isLegacySettings = (keys.length > 0)\n                  ? (parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined)\n                  : false,\n                ruleKeys\n              ;\n              if(isLegacySettings) {\n                // 1.x (ducktyped)\n                settings   = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              }\n              else {\n                // 2.x\n                if(parameters.fields && module.is.shorthandFields(parameters.fields)) {\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\n                }\n                settings   = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            }\n            else {\n              settings   = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            }\n\n            // shorthand\n            namespace       = settings.namespace;\n            metadata        = settings.metadata;\n            selector        = settings.selector;\n            className       = settings.className;\n            regExp          = settings.regExp;\n            error           = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace  = '.' + namespace;\n\n            // grab instance\n            instance = $module.data(moduleNamespace);\n\n            // refresh selector cache\n            module.refresh();\n          },\n          field: function(identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            if($field.filter('#' + identifier).length > 0 ) {\n              return $field.filter('#' + identifier);\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return $field.filter('[name=\"' + identifier +'\"]');\n            }\n            else if( $field.filter('[name=\"' + identifier +'[]\"]').length > 0 ) {\n              return $field.filter('[name=\"' + identifier +'[]\"]');\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]');\n            }\n            return $('<input/>');\n          },\n          fields: function(fields) {\n            var\n              $fields = $()\n            ;\n            $.each(fields, function(index, name) {\n              $fields = $fields.add( module.get.field(name) );\n            });\n            return $fields;\n          },\n          validation: function($field) {\n            var\n              fieldValidation,\n              identifier\n            ;\n            if(!validation) {\n              return false;\n            }\n            $.each(validation, function(fieldName, field) {\n              identifier = field.identifier || fieldName;\n              if( module.get.field(identifier)[0] == $field[0] ) {\n                field.identifier = identifier;\n                fieldValidation = field;\n              }\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var\n              fields = [],\n              results\n            ;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var\n              $fields = $.isArray(fields)\n                ? module.get.fields(fields)\n                : $field,\n              values = {}\n            ;\n            $fields.each(function(index, field) {\n              var\n                $field     = $(field),\n                type       = $field.prop('type'),\n                name       = $field.prop('name'),\n                value      = $field.val(),\n                isCheckbox = $field.is(selector.checkbox),\n                isRadio    = $field.is(selector.radio),\n                isMultiple = (name.indexOf('[]') !== -1),\n                isChecked  = (isCheckbox)\n                  ? $field.is(':checked')\n                  : false\n              ;\n              if(name) {\n                if(isMultiple) {\n                  name = name.replace('[]', '');\n                  if(!values[name]) {\n                    values[name] = [];\n                  }\n                  if(isCheckbox) {\n                    if(isChecked) {\n                      values[name].push(value || true);\n                    }\n                    else {\n                      values[name].push(false);\n                    }\n                  }\n                  else {\n                    values[name].push(value);\n                  }\n                }\n                else {\n                  if(isRadio) {\n                    if(values[name] === undefined || values[name] == false) {\n                      values[name] = (isChecked)\n                        ? value || true\n                        : false\n                      ;\n                    }\n                  }\n                  else if(isCheckbox) {\n                    if(isChecked) {\n                      values[name] = value || true;\n                    }\n                    else {\n                      values[name] = false;\n                    }\n                  }\n                  else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          }\n        },\n\n        has: {\n\n          field: function(identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            if(typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n            if($field.filter('#' + identifier).length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            return false;\n          }\n\n        },\n\n        escape: {\n          string: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n\n        add: {\n          // alias\n          rule: function(name, rules) {\n            module.add.field(name, rules);\n          },\n          field: function(name, rules) {\n            var\n              newValidation = {}\n            ;\n            if(module.is.shorthandRules(rules)) {\n              rules = $.isArray(rules)\n                ? rules\n                : [rules]\n              ;\n              newValidation[name] = {\n                rules: []\n              };\n              $.each(rules, function(index, rule) {\n                newValidation[name].rules.push({ type: rule });\n              });\n            }\n            else {\n              newValidation[name] = rules;\n            }\n            validation = $.extend({}, validation, newValidation);\n            module.debug('Adding rules', newValidation, validation);\n          },\n          fields: function(fields) {\n            var\n              newValidation\n            ;\n            if(fields && module.is.shorthandFields(fields)) {\n              newValidation = module.get.fieldsFromShorthand(fields);\n            }\n            else {\n              newValidation = fields;\n            }\n            validation = $.extend({}, validation, newValidation);\n          },\n          prompt: function(identifier, errors) {\n            var\n              $field       = module.get.field(identifier),\n              $fieldGroup  = $field.closest($group),\n              $prompt      = $fieldGroup.children(selector.prompt),\n              promptExists = ($prompt.length !== 0)\n            ;\n            errors = (typeof errors == 'string')\n              ? [errors]\n              : errors\n            ;\n            module.verbose('Adding field error state', identifier);\n            $fieldGroup\n              .addClass(className.error)\n            ;\n            if(settings.inline) {\n              if(!promptExists) {\n                $prompt = settings.templates.prompt(errors);\n                $prompt\n                  .appendTo($fieldGroup)\n                ;\n              }\n              $prompt\n                .html(errors[0])\n              ;\n              if(!promptExists) {\n                if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                }\n                else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt\n                    .fadeIn(settings.duration)\n                  ;\n                }\n              }\n              else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function(errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message\n              .html( settings.templates.error(errors) )\n            ;\n          }\n        },\n\n        remove: {\n          rule: function(field, rule) {\n            var\n              rules = $.isArray(rule)\n                ? rule\n                : [rule]\n            ;\n            if(rule == undefined) {\n              module.debug('Removed all rules');\n              validation[field].rules = [];\n              return;\n            }\n            if(validation[field] == undefined || !$.isArray(validation[field].rules)) {\n              return;\n            }\n            $.each(validation[field].rules, function(index, rule) {\n              if(rules.indexOf(rule.type) !== -1) {\n                module.debug('Removed rule', rule.type);\n                validation[field].rules.splice(index, 1);\n              }\n            });\n          },\n          field: function(field) {\n            var\n              fields = $.isArray(field)\n                ? field\n                : [field]\n            ;\n            $.each(fields, function(index, field) {\n              module.remove.rule(field);\n            });\n          },\n          // alias\n          rules: function(field, rules) {\n            if($.isArray(field)) {\n              $.each(fields, function(index, field) {\n                module.remove.rule(field, rules);\n              });\n            }\n            else {\n              module.remove.rule(field, rules);\n            }\n          },\n          fields: function(fields) {\n            module.remove.field(fields);\n          },\n          prompt: function(identifier) {\n            var\n              $field      = module.get.field(identifier),\n              $fieldGroup = $field.closest($group),\n              $prompt     = $fieldGroup.children(selector.prompt)\n            ;\n            $fieldGroup\n              .removeClass(className.error)\n            ;\n            if(settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function() {\n                  $prompt.remove();\n                });\n              }\n              else {\n                $prompt\n                  .fadeOut(settings.duration, function(){\n                    $prompt.remove();\n                  })\n                ;\n              }\n            }\n          }\n        },\n\n        set: {\n          success: function() {\n            $module\n              .removeClass(className.error)\n              .addClass(className.success)\n            ;\n          },\n          defaults: function () {\n            $field\n              .each(function () {\n                var\n                  $field     = $(this),\n                  isCheckbox = ($field.filter(selector.checkbox).length > 0),\n                  value      = (isCheckbox)\n                    ? $field.is(':checked')\n                    : $field.val()\n                ;\n                $field.data(metadata.defaultValue, value);\n              })\n            ;\n          },\n          error: function() {\n            $module\n              .removeClass(className.success)\n              .addClass(className.error)\n            ;\n          },\n          value: function (field, value) {\n            var\n              fields = {}\n            ;\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if($.isEmptyObject(fields)) {\n              return;\n            }\n            $.each(fields, function(key, value) {\n              var\n                $field      = module.get.field(key),\n                $element    = $field.parent(),\n                isMultiple  = $.isArray(value),\n                isCheckbox  = $element.is(selector.uiCheckbox),\n                isDropdown  = $element.is(selector.uiDropdown),\n                isRadio     = ($field.is(selector.radio) && isCheckbox),\n                fieldExists = ($field.length > 0),\n                $multipleField\n              ;\n              if(fieldExists) {\n                if(isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function(index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element       = $multipleField.parent();\n                    if($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                }\n                else if(isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]')\n                    .parent(selector.uiCheckbox)\n                      .checkbox('check')\n                  ;\n                }\n                else if(isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n                  if(value === true) {\n                    $element.checkbox('check');\n                  }\n                  else {\n                    $element.checkbox('uncheck');\n                  }\n                }\n                else if(isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                }\n                else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          }\n        },\n\n        validate: {\n\n          form: function(event, ignoreCallbacks) {\n            var\n              values = module.get.values(),\n              apiRequest\n            ;\n\n            // input keydown event will fire submit repeatedly by browser default\n            if(keyHeldDown) {\n              return false;\n            }\n\n            // reset errors\n            formErrors = [];\n            if( module.determine.isValid() ) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n              if(ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            }\n            else {\n              module.debug('Form has errors');\n              module.set.error();\n              if(!settings.inline) {\n                module.add.errors(formErrors);\n              }\n              // prevent ajax submit\n              if($module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n              if(ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n\n          // takes a validation object and returns whether field passes validation\n          field: function(field, fieldName, showErrors) {\n            showErrors = (showErrors !== undefined)\n              ? showErrors\n              : true\n            ;\n            if(typeof field == 'string') {\n              module.verbose('Validating field', field);\n              fieldName = field;\n              field     = validation[field];\n            }\n            var\n              identifier    = field.identifier || fieldName,\n              $field        = module.get.field(identifier),\n              $dependsField = (field.depends)\n                ? module.get.field(field.depends)\n                : false,\n              fieldValid  = true,\n              fieldErrors = []\n            ;\n            if(!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n            if($field.prop('disabled')) {\n              module.debug('Field is disabled. Skipping', identifier);\n              fieldValid = true;\n            }\n            else if(field.optional && module.is.blank($field)){\n              module.debug('Field is optional and blank. Skipping', identifier);\n              fieldValid = true;\n            }\n            else if(field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n              fieldValid = true;\n            }\n            else if(field.rules !== undefined) {\n              $.each(field.rules, function(index, rule) {\n                if( module.has.field(identifier) && !( module.validate.rule(field, rule) ) ) {\n                  module.debug('Field is invalid', identifier, rule.type);\n                  fieldErrors.push(module.get.prompt(rule, field));\n                  fieldValid = false;\n                }\n              });\n            }\n            if(fieldValid) {\n              if(showErrors) {\n                module.remove.prompt(identifier, fieldErrors);\n                settings.onValid.call($field);\n              }\n            }\n            else {\n              if(showErrors) {\n                formErrors = formErrors.concat(fieldErrors);\n                module.add.prompt(identifier, fieldErrors);\n                settings.onInvalid.call($field, fieldErrors);\n              }\n              return false;\n            }\n            return true;\n          },\n\n          // takes validation rule and returns whether field passes rule\n          rule: function(field, rule) {\n            var\n              $field       = module.get.field(field.identifier),\n              type         = rule.type,\n              value        = $field.val(),\n              isValid      = true,\n              ancillary    = module.get.ancillaryValue(rule),\n              ruleName     = module.get.ruleName(rule),\n              ruleFunction = settings.rules[ruleName]\n            ;\n            if( !$.isFunction(ruleFunction) ) {\n              module.error(error.noRule, ruleName);\n              return;\n            }\n            // cast to string avoiding encoding special values\n            value = (value === undefined || value === '' || value === null)\n              ? ''\n              : $.trim(value + '')\n            ;\n            return ruleFunction.call($field, value, ancillary);\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      module.initialize();\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.form.settings = {\n\n  name              : 'Form',\n  namespace         : 'form',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  fields            : false,\n\n  keyboardShortcuts : true,\n  on                : 'submit',\n  inline            : false,\n\n  delay             : 200,\n  revalidate        : true,\n\n  transition        : 'scale',\n  duration          : 200,\n\n  onValid           : function() {},\n  onInvalid         : function() {},\n  onSuccess         : function() { return true; },\n  onFailure         : function() { return false; },\n\n  metadata : {\n    defaultValue : 'default',\n    validate     : 'validate'\n  },\n\n  regExp: {\n    htmlID  : /^[a-zA-Z][\\w:.-]*$/g,\n    bracket : /\\[(.*)\\]/i,\n    decimal : /^\\d+\\.?\\d*$/,\n    email   : /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n    escape  : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n    flags   : /^\\/(.*)\\/(.*)?/,\n    integer : /^\\-?\\d+$/,\n    number  : /^\\-?\\d*(\\.\\d+)?$/,\n    url     : /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n  },\n\n  text: {\n    unspecifiedRule  : 'Please enter a valid value',\n    unspecifiedField : 'This field'\n  },\n\n  prompt: {\n    empty                : '{name} must have a value',\n    checked              : '{name} must be checked',\n    email                : '{name} must be a valid e-mail',\n    url                  : '{name} must be a valid url',\n    regExp               : '{name} is not formatted correctly',\n    integer              : '{name} must be an integer',\n    decimal              : '{name} must be a decimal number',\n    number               : '{name} must be set to a number',\n    is                   : '{name} must be \"{ruleValue}\"',\n    isExactly            : '{name} must be exactly \"{ruleValue}\"',\n    not                  : '{name} cannot be set to \"{ruleValue}\"',\n    notExactly           : '{name} cannot be set to exactly \"{ruleValue}\"',\n    contain              : '{name} must contain \"{ruleValue}\"',\n    containExactly       : '{name} must contain exactly \"{ruleValue}\"',\n    doesntContain        : '{name} cannot contain  \"{ruleValue}\"',\n    doesntContainExactly : '{name} cannot contain exactly \"{ruleValue}\"',\n    minLength            : '{name} must be at least {ruleValue} characters',\n    length               : '{name} must be at least {ruleValue} characters',\n    exactLength          : '{name} must be exactly {ruleValue} characters',\n    maxLength            : '{name} cannot be longer than {ruleValue} characters',\n    match                : '{name} must match {ruleValue} field',\n    different            : '{name} must have a different value than {ruleValue} field',\n    creditCard           : '{name} must be a valid credit card number',\n    minCount             : '{name} must have at least {ruleValue} choices',\n    exactCount           : '{name} must have exactly {ruleValue} choices',\n    maxCount             : '{name} must have {ruleValue} or less choices'\n  },\n\n  selector : {\n    checkbox   : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    clear      : '.clear',\n    field      : 'input, textarea, select',\n    group      : '.field',\n    input      : 'input',\n    message    : '.error.message',\n    prompt     : '.prompt.label',\n    radio      : 'input[type=\"radio\"]',\n    reset      : '.reset:not([type=\"reset\"])',\n    submit     : '.submit:not([type=\"submit\"])',\n    uiCheckbox : '.ui.checkbox',\n    uiDropdown : '.ui.dropdown'\n  },\n\n  className : {\n    error   : 'error',\n    label   : 'ui prompt label',\n    pressed : 'down',\n    success : 'success'\n  },\n\n  error: {\n    identifier : 'You must specify a string identifier for each field',\n    method     : 'The method you called is not defined.',\n    noRule     : 'There is no rule matching the one you specified',\n    oldSyntax  : 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.'\n  },\n\n  templates: {\n\n    // template that produces error message\n    error: function(errors) {\n      var\n        html = '<ul class=\"list\">'\n      ;\n      $.each(errors, function(index, value) {\n        html += '<li>' + value + '</li>';\n      });\n      html += '</ul>';\n      return $(html);\n    },\n\n    // template that produces label\n    prompt: function(errors) {\n      return $('<div/>')\n        .addClass('ui basic red pointing prompt label')\n        .html(errors[0])\n      ;\n    }\n  },\n\n  rules: {\n\n    // is not empty or blank string\n    empty: function(value) {\n      return !(value === undefined || '' === value || $.isArray(value) && value.length === 0);\n    },\n\n    // checkbox checked\n    checked: function() {\n      return ($(this).filter(':checked').length > 0);\n    },\n\n    // is most likely an email\n    email: function(value){\n      return $.fn.form.settings.regExp.email.test(value);\n    },\n\n    // value is most likely url\n    url: function(value) {\n      return $.fn.form.settings.regExp.url.test(value);\n    },\n\n    // matches specified regExp\n    regExp: function(value, regExp) {\n      if(regExp instanceof RegExp) {\n        return value.match(regExp);\n      }\n      var\n        regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n        flags\n      ;\n      // regular expression specified as /baz/gi (flags)\n      if(regExpParts) {\n        regExp = (regExpParts.length >= 2)\n          ? regExpParts[1]\n          : regExp\n        ;\n        flags = (regExpParts.length >= 3)\n          ? regExpParts[2]\n          : ''\n        ;\n      }\n      return value.match( new RegExp(regExp, flags) );\n    },\n\n    // is valid integer or matches range\n    integer: function(value, range) {\n      var\n        intRegExp = $.fn.form.settings.regExp.integer,\n        min,\n        max,\n        parts\n      ;\n      if( !range || ['', '..'].indexOf(range) !== -1) {\n        // do nothing\n      }\n      else if(range.indexOf('..') == -1) {\n        if(intRegExp.test(range)) {\n          min = max = range - 0;\n        }\n      }\n      else {\n        parts = range.split('..', 2);\n        if(intRegExp.test(parts[0])) {\n          min = parts[0] - 0;\n        }\n        if(intRegExp.test(parts[1])) {\n          max = parts[1] - 0;\n        }\n      }\n      return (\n        intRegExp.test(value) &&\n        (min === undefined || value >= min) &&\n        (max === undefined || value <= max)\n      );\n    },\n\n    // is valid number (with decimal)\n    decimal: function(value) {\n      return $.fn.form.settings.regExp.decimal.test(value);\n    },\n\n    // is valid number\n    number: function(value) {\n      return $.fn.form.settings.regExp.number.test(value);\n    },\n\n    // is value (case insensitive)\n    is: function(value, text) {\n      text = (typeof text == 'string')\n        ? text.toLowerCase()\n        : text\n      ;\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      return (value == text);\n    },\n\n    // is value\n    isExactly: function(value, text) {\n      return (value == text);\n    },\n\n    // value is not another value (case insensitive)\n    not: function(value, notValue) {\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      notValue = (typeof notValue == 'string')\n        ? notValue.toLowerCase()\n        : notValue\n      ;\n      return (value != notValue);\n    },\n\n    // value is not another value (case sensitive)\n    notExactly: function(value, notValue) {\n      return (value != notValue);\n    },\n\n    // value contains text (insensitive)\n    contains: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) !== -1);\n    },\n\n    // value contains text (case sensitive)\n    containsExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) !== -1);\n    },\n\n    // value contains text (insensitive)\n    doesntContain: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) === -1);\n    },\n\n    // value contains text (case sensitive)\n    doesntContainExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) === -1);\n    },\n\n    // is at least string length\n    minLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // see rls notes for 2.0.6 (this is a duplicate of minLength)\n    length: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // is exactly length\n    exactLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length == requiredLength)\n        : false\n      ;\n    },\n\n    // is less than length\n    maxLength: function(value, maxLength) {\n      return (value !== undefined)\n        ? (value.length <= maxLength)\n        : false\n      ;\n    },\n\n    // matches another field\n    match: function(value, identifier) {\n      var\n        $form = $(this),\n        matchingValue\n      ;\n      if( $('[data-validate=\"'+ identifier +'\"]').length > 0 ) {\n        matchingValue = $('[data-validate=\"'+ identifier +'\"]').val();\n      }\n      else if($('#' + identifier).length > 0) {\n        matchingValue = $('#' + identifier).val();\n      }\n      else if($('[name=\"' + identifier +'\"]').length > 0) {\n        matchingValue = $('[name=\"' + identifier + '\"]').val();\n      }\n      else if( $('[name=\"' + identifier +'[]\"]').length > 0 ) {\n        matchingValue = $('[name=\"' + identifier +'[]\"]');\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() == matchingValue.toString() )\n        : false\n      ;\n    },\n\n    // different than another field\n    different: function(value, identifier) {\n      // use either id or name of field\n      var\n        $form = $(this),\n        matchingValue\n      ;\n      if( $('[data-validate=\"'+ identifier +'\"]').length > 0 ) {\n        matchingValue = $('[data-validate=\"'+ identifier +'\"]').val();\n      }\n      else if($('#' + identifier).length > 0) {\n        matchingValue = $('#' + identifier).val();\n      }\n      else if($('[name=\"' + identifier +'\"]').length > 0) {\n        matchingValue = $('[name=\"' + identifier + '\"]').val();\n      }\n      else if( $('[name=\"' + identifier +'[]\"]').length > 0 ) {\n        matchingValue = $('[name=\"' + identifier +'[]\"]');\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() !== matchingValue.toString() )\n        : false\n      ;\n    },\n\n    creditCard: function(cardNumber, cardTypes) {\n      var\n        cards = {\n          visa: {\n            pattern : /^4/,\n            length  : [16]\n          },\n          amex: {\n            pattern : /^3[47]/,\n            length  : [15]\n          },\n          mastercard: {\n            pattern : /^5[1-5]/,\n            length  : [16]\n          },\n          discover: {\n            pattern : /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length  : [16]\n          },\n          unionPay: {\n            pattern : /^(62|88)/,\n            length  : [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern : /^35(2[89]|[3-8][0-9])/,\n            length  : [16]\n          },\n          maestro: {\n            pattern : /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length  : [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern : /^(30[0-5]|^36)/,\n            length  : [14]\n          },\n          laser: {\n            pattern : /^(6304|670[69]|6771)/,\n            length  : [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern : /^(4026|417500|4508|4844|491(3|7))/,\n            length  : [16]\n          }\n        },\n        valid         = {},\n        validCard     = false,\n        requiredTypes = (typeof cardTypes == 'string')\n          ? cardTypes.split(',')\n          : false,\n        unionPay,\n        validation\n      ;\n\n      if(typeof cardNumber !== 'string' || cardNumber.length === 0) {\n        return;\n      }\n\n      // allow dashes in card\n      cardNumber = cardNumber.replace(/[\\-]/g, '');\n\n      // verify card types\n      if(requiredTypes) {\n        $.each(requiredTypes, function(index, type){\n          // verify each card type\n          validation = cards[type];\n          if(validation) {\n            valid = {\n              length  : ($.inArray(cardNumber.length, validation.length) !== -1),\n              pattern : (cardNumber.search(validation.pattern) !== -1)\n            };\n            if(valid.length && valid.pattern) {\n              validCard = true;\n            }\n          }\n        });\n\n        if(!validCard) {\n          return false;\n        }\n      }\n\n      // skip luhn for UnionPay\n      unionPay = {\n        number  : ($.inArray(cardNumber.length, cards.unionPay.length) !== -1),\n        pattern : (cardNumber.search(cards.unionPay.pattern) !== -1)\n      };\n      if(unionPay.number && unionPay.pattern) {\n        return true;\n      }\n\n      // verify luhn, adapted from  <https://gist.github.com/2134376>\n      var\n        length        = cardNumber.length,\n        multiple      = 0,\n        producedValue = [\n          [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n          [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]\n        ],\n        sum           = 0\n      ;\n      while (length--) {\n        sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n        multiple ^= 1;\n      }\n      return (sum % 10 === 0 && sum > 0);\n    },\n\n    minCount: function(value, minCount) {\n      if(minCount == 0) {\n        return true;\n      }\n      if(minCount == 1) {\n        return (value !== '');\n      }\n      return (value.split(',').length >= minCount);\n    },\n\n    exactCount: function(value, exactCount) {\n      if(exactCount == 0) {\n        return (value === '');\n      }\n      if(exactCount == 1) {\n        return (value !== '' && value.search(',') === -1);\n      }\n      return (value.split(',').length == exactCount);\n    },\n\n    maxCount: function(value, maxCount) {\n      if(maxCount == 0) {\n        return false;\n      }\n      if(maxCount == 1) {\n        return (value.search(',') === -1);\n      }\n      return (value.split(',').length <= maxCount);\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}